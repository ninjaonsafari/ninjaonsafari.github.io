<!doctype html>
<html lang="en">
	<head>
		<title>ninjaonsafari.github.io</title>
	</head>
	<body>
		<h1>getUserMedia() test</h1>
		
		
		<script type="text/javascript">
			var customConsole = {};
			customConsole.log = function(args) {writeToLog(args)};
			customConsole.error = function(args) {writeToLog(args)};
			customConsole.info = function(args) {writeToLog(args)};
			customConsole.warn = function(args) {writeToLog(args)};
			window.console = customConsole;
			var constraints = {
				audio: false,
				video: {
					facingMode: 'user'
				}
			}
			
			console.log('start getuserMedia()');
			if (navigator.mediaDevices) {
				console.log('- navigator.mediaDevices defined');
			} else {
				console.log('- navigator.mediaDevices not defined');
			}
			
			if (navigator.mediaDevices.getUserMedia) {
				console.log('- navigator.mediaDevices.getUserMedia defined');
			} else {
				console.log('- navigator.mediaDevices.getUserMedia not defined');
			}
			
			
			navigator.mediaDevices.getUserMedia(constraints)
				.then(function(stream) {
					console.log('stream', stream);
				})
				.catch(function(err) {
					console.log(err.message);
				});
			
			function writeToLog(args) {
				const el = document.createElement('p');
				el.innerText = args;
				document.body.appendChild(el);
			}
			
		</script>
	</body>
</html>
